<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-73KGWFC8DM"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-73KGWFC8DM');
        </script><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Capacitive Touch Sensor - ESP32 -  &mdash; ESP-IDF Programming Guide latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_overrides.css?v=851bd809" />
      <link rel="stylesheet" type="text/css" href="../../_static/js/chatbot_widget.css?v=3106ea3a" />

  
    <link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/api-reference/peripherals/cap_touch_sens.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=becddca3"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=ff8fa330"></script>
        <script src="https://wavedrom.com/skins/default.js"></script>
        <script src="https://wavedrom.com/wavedrom.min.js"></script>
        <script src="../../_static/js/chatbot_widget_en.js?v=63d6728d"></script>
    <script src="../../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'api-reference/peripherals/cap_touch_sens';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-idf';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en", "zh_CN"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32s3", "esp32c3", "esp32c2", "esp32c5", "esp32c6", "esp32p4"]
        DOCUMENTATION_OPTIONS.RELEASE = 'latest';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Two-Wire Automotive Interface (TWAI)" href="twai.html" />
    <link rel="prev" title="SPI Slave Driver" href="spi_slave.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ESP-IDF Programming Guide
              <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-conventions.html">API Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Application Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth<sup>®</sup> API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc/index.html">Analog to Digital Converter (ADC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="clk_tree.html">Clock Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">Digital To Analog Converter (DAC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO &amp; RTC GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="gptimer.html">General Purpose Timer (GPTimer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">Inter-Integrated Circuit (I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">Inter-IC Sound (I2S)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lcd/index.html">LCD</a></li>
<li class="toctree-l3"><a class="reference internal" href="ledc.html">LED Control (LEDC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="mcpwm.html">Motor Control Pulse Width Modulator (MCPWM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcnt.html">Pulse Counter (PCNT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="rmt.html">Remote Control Transceiver (RMT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="sd_pullup_requirements.html">SD Pull-up Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdmmc_host.html">SDMMC Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdspi_host.html">SD SPI Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio_slave.html">SDIO Card Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdm.html">Sigma-Delta Modulation (SDM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_flash/index.html">SPI Flash API</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_master.html">SPI Master Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_slave.html">SPI Slave Driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Capacitive Touch Sensor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview-of-capacitive-touch-sensor-versions">Overview of Capacitive Touch Sensor Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#measurement-principle">Measurement Principle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview-of-touch-sensor-channels">Overview of Touch Sensor Channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#terminology-in-the-driver">Terminology in the Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-structure">File Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#finite-state-machine">Finite-state Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#functionality-introduction">Functionality Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-examples">Application Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-notes">Application Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="twai.html">Two-Wire Automotive Interface (TWAI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">Universal Asynchronous Receiver/Transmitter (UART)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig-reference.html">Configuration Options Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">Hardware Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration-guides/index.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributions Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ESP-IDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights and Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">Switch Between Languages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html">Peripherals API</a></li>
      <li class="breadcrumb-item active">Capacitive Touch Sensor</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/espressif/esp-idf/blob/758939ca/docs/en/api-reference/peripherals/cap_touch_sens.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="capacitive-touch-sensor">
<h1>Capacitive Touch Sensor<a class="headerlink" href="#capacitive-touch-sensor" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="../../../../../zh_CN/latest/esp32/api-reference/peripherals/cap_touch_sens.html">[中文]</a></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>A touch sensor system is built on a substrate which carries electrodes and relevant connections under a protective flat surface. When the surface is touched, the capacitance variation is used to evaluate if the touch was valid.</p>
<p>The sensing pads can be arranged in different combinations (e.g., matrix, slider), so that a larger area or more points can be detected. The touch pad sensing process is under the control of a hardware-implemented finite-state machine (FSM) which is initiated by software or a dedicated hardware timer.</p>
<p>For design, operation, and control registers of a touch sensor, see <strong>ESP32 Technical Reference Manual</strong> &gt; <strong>On-Chip Sensors and Analog Signal Processing</strong> [<a class="reference external" href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf#sensor">PDF</a>].</p>
<p>In-depth design details of touch sensors and firmware development guidelines for the ESP32 are available in <a class="reference external" href="https://github.com/espressif/esp-iot-solution/blob/release/v1.0/documents/touch_pad_solution/touch_sensor_design_en.md">Touch Sensor Application Note</a>.</p>
</section>
<section id="overview-of-capacitive-touch-sensor-versions">
<h2>Overview of Capacitive Touch Sensor Versions<a class="headerlink" href="#overview-of-capacitive-touch-sensor-versions" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Hardware Version</p></th>
<th class="head"><p>Chip</p></th>
<th class="head"><p>Main Features</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>V1</p></td>
<td><p>ESP32</p></td>
<td><p>Version 1, the channel value decreases when it is touched</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>V2</p></td>
<td><p>ESP32-S2</p></td>
<td><p>Version 2, the channel value increases when it is touched
Supports hardware filter, benchmark, waterproof, proximity sensing and sleep wake-up</p></td>
</tr>
<tr class="row-even"><td><p>ESP32-S3</p></td>
<td><p>Version 2, support proximity measurement done interrupt</p></td>
</tr>
<tr class="row-odd"><td><p>V3</p></td>
<td><p>ESP32-P4</p></td>
<td><p>Version 3, support frequency hopping</p></td>
</tr>
</tbody>
</table>
</section>
<section id="measurement-principle">
<h2>Measurement Principle<a class="headerlink" href="#measurement-principle" title="Permalink to this heading"></a></h2>
<p>The touch sensor will charge and discharge the touch channel by the internal current or voltage bias. Due to the internal capacitance and the stray capacitance in the circuit, the signals on the touch pins will present as a sawtooth wave. When the finger is approaching or touched on the touch pad, the capacitance of the touch channel increases, which leads to a slower charge and discharge, and a longer sawtooth period.</p>
<p>The touch sensor charges and discharges the touch channel within a fixed time and counts the number of charge-discharge cycles, and the count result serves as the raw data. The duration of a single charge-discharge measurement can be specified by <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_sample_config_t::charge_times</span></code>, and the interval between two measurements can be specified by <a class="reference internal" href="#_CPPv4N21touch_sensor_config_t16meas_interval_usE" title="touch_sensor_config_t::meas_interval_us"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_config_t::meas_interval_us</span></code></a>.</p>
<figure class="align-center" id="id7">
<img alt="Touch Pad - relationship between measurement parameters" src="../../_images/touch_pad-measurement-parameters.jpg" />
<figcaption>
<p><span class="caption-text">Touch Sensor Working Principle</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="overview-of-touch-sensor-channels">
<h2>Overview of Touch Sensor Channels<a class="headerlink" href="#overview-of-touch-sensor-channels" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>GPIO</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CH0</p></td>
<td><p>IO4</p></td>
</tr>
<tr class="row-odd"><td><p>CH1</p></td>
<td><p>IO0</p></td>
</tr>
<tr class="row-even"><td><p>CH2</p></td>
<td><p>IO2</p></td>
</tr>
<tr class="row-odd"><td><p>CH3</p></td>
<td><p>IO15</p></td>
</tr>
<tr class="row-even"><td><p>CH4</p></td>
<td><p>IO13</p></td>
</tr>
<tr class="row-odd"><td><p>CH5</p></td>
<td><p>IO12</p></td>
</tr>
<tr class="row-even"><td><p>CH6</p></td>
<td><p>IO14</p></td>
</tr>
<tr class="row-odd"><td><p>CH7</p></td>
<td><p>IO27</p></td>
</tr>
<tr class="row-even"><td><p>CH8</p></td>
<td><p>IO33</p></td>
</tr>
<tr class="row-odd"><td><p>CH9</p></td>
<td><p>IO32</p></td>
</tr>
</tbody>
</table>
</section>
<section id="terminology-in-the-driver">
<h2>Terminology in the Driver<a class="headerlink" href="#terminology-in-the-driver" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Touch Sensor Controller</strong>: The controller of the touch sensor, responsible for configuring and managing the touch sensor.</p></li>
<li><p><strong>Touch Sensor Channel</strong>: A specific touch sensor sampling channel. A touch sensor module has multiple touch channels, which are usually connected to the touch pad for measuring the capacitance change. In the driver, sampling of <strong>one</strong> channel is called one <code class="docutils literal notranslate"><span class="pre">measurement</span></code> and the scanning of <strong>all</strong> registered channels is called one <code class="docutils literal notranslate"><span class="pre">scan</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p><strong>Touch Sensor Sampling Configuration</strong>: Touch sensor sampling configuration refers to all the hardware configurations that related to the sampling. It can  determine how the touch channels sample by setting the number of charging times, charging frequency, measurement interval, etc. The ESP32 only support one set of sample configuration, so it doesn't support frequency hopping.</p></li>
</ul>
</section>
<section id="file-structure">
<h2>File Structure<a class="headerlink" href="#file-structure" title="Permalink to this heading"></a></h2>
<figure class="align-center" id="id8">
<img alt="File Structure of Touch Sensor Driver" src="../../_images/touch_file_structure.svg" /><figcaption>
<p><span class="caption-text">File Structure of Touch Sensor Driver</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="finite-state-machine">
<h2>Finite-state Machine<a class="headerlink" href="#finite-state-machine" title="Permalink to this heading"></a></h2>
<p>The following diagram shows the state machine of the touch sensor driver, which describes the driver state after calling a function, and the constraint of the state transition.</p>
<figure class="align-center" id="id9">
<img alt="Finite-state Machine of Touch Sensor Driver" src="../../_images/touch_state_machine.svg" /><figcaption>
<p><span class="caption-text">Finite-state Machine of Touch Sensor Driver</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The diagram above is the finite-state machine of the touch sensor driver, which describes how the state transferred by invoking different APIs. <code class="docutils literal notranslate"><span class="pre">&lt;other_configurations&gt;</span></code> in the diagram stands for the other optional configurations, like reconfigurations to the touch sensor controller or channels, callback registration, filter, and so on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#_CPPv423touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t" title="touch_channel_read_data"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_channel_read_data()</span></code></a> can be called at any time after the channel is registered (i.e., since <code class="docutils literal notranslate"><span class="pre">INIT</span></code> state), but please take care of the validation of the data.</p>
</div>
</section>
<section id="functionality-introduction">
<h2>Functionality Introduction<a class="headerlink" href="#functionality-introduction" title="Permalink to this heading"></a></h2>
<p>Categorized by functionality, the APIs of Capacitive Touch Sensor mainly include:</p>
<p><ul class="simple">
<li><p><a class="reference external" href="#touch-ctrl">Touch Sensor Controller Management</a></p></li>
<li><p><a class="reference external" href="#touch-chan">Touch Sensor Channel Management</a></p></li>
<li><p><a class="reference external" href="#touch-filter">Filter Configuration</a></p></li>
<li><p><a class="reference external" href="#touch-callback">Callback</a></p></li>
<li><p><a class="reference external" href="#touch-enable">Enable and Disable</a></p></li>
<li><p><a class="reference external" href="#touch-conti-scan">Continuous Scan</a></p></li>
<li><p><a class="reference external" href="#touch-oneshot-scan">Oneshot Scan</a></p></li>
<li><p><a class="reference external" href="#touch-read">Read Measurement Data</a></p></li>
<li><p><a class="reference external" href="#touch-sleep-wakeup">Sleep Wake-up Configuration</a></p></li>
</ul>
</p>
<section id="touch-sensor-controller-management">
<span id="touch-ctrl"></span><h3>Touch Sensor Controller Management<a class="headerlink" href="#touch-sensor-controller-management" title="Permalink to this heading"></a></h3>
<p>Touch Sensor is controlled by controller handle  <a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_sensor_handle_t</span></code></a>, it can be initialized and allocated by <a class="reference internal" href="#_CPPv427touch_sensor_new_controllerPK21touch_sensor_config_tP21touch_sensor_handle_t" title="touch_sensor_new_controller"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Some target has multiple sets of sample configuration can be set, here take one for example</span>
<span class="cp">#define SAMPLE_NUM 1</span>
<span class="n">touch_sensor_handle_t</span><span class="w"> </span><span class="n">sens_handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="c1">// sample configuration</span>
<span class="n">touch_sensor_sample_config_t</span><span class="w"> </span><span class="n">sample_cfg</span><span class="p">[</span><span class="n">SAMPLE_NUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Specify sample configuration or apply the default sample configuration via `TOUCH_SENSOR_Vn_DEFAULT_SAMPLE_CONFIG`</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="c1">// Use the default touch controller configuration</span>
<span class="n">touch_sensor_config_t</span><span class="w"> </span><span class="n">touch_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TOUCH_SENSOR_DEFAULT_BASIC_CONFIG</span><span class="p">(</span><span class="n">SAMPLE_NUM</span><span class="p">,</span><span class="w"> </span><span class="n">sample_cfg</span><span class="p">);</span>
<span class="c1">// Allocate a new touch sensor controller handle</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_new_controller</span><span class="p">(</span><span class="o">&amp;</span><span class="n">touch_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sens_handle</span><span class="p">));</span>
</pre></div>
</div>
<p>To delete the controller handle and free the software and hardware resources, please call <a class="reference internal" href="#_CPPv427touch_sensor_del_controller21touch_sensor_handle_t" title="touch_sensor_del_controller"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_del_controller()</span></code></a>. But note that you need to delete the other resources that based on the controller first, like the registered touch channels, otherwise it can't be deleted directly.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_del_controller</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">));</span>
</pre></div>
</div>
<p>You can also update the configurations via <a class="reference internal" href="#_CPPv432touch_sensor_reconfig_controller21touch_sensor_handle_tPK21touch_sensor_config_t" title="touch_sensor_reconfig_controller"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_reconfig_controller()</span></code></a> before the controller is enabled.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">touch_sensor_config_t</span><span class="w"> </span><span class="n">touch_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// New controller configurations</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_reconfig_controller</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">touch_cfg</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="touch-sensor-channel-management">
<span id="touch-chan"></span><h3>Touch Sensor Channel Management<a class="headerlink" href="#touch-sensor-channel-management" title="Permalink to this heading"></a></h3>
<p>There are multiple touch channels in the touch sensor module, the touch sensor channel is controlled by the channel handle <a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_channel_handle_t</span></code></a>. It can be initialized and allocated by <a class="reference internal" href="#_CPPv424touch_sensor_new_channel21touch_sensor_handle_tiPK22touch_channel_config_tP22touch_channel_handle_t" title="touch_sensor_new_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_new_channel()</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>
<span class="n">touch_channel_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Touch channel configurations</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="n">touch_channel_handle_t</span><span class="w"> </span><span class="n">chan_handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">chan_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="c1">// Allocate a new touch sensor controller handle</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_new_channel</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="n">chan_id</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">chan_handle</span><span class="p">));</span>
</pre></div>
</div>
<p>To delete the touch channel handle and free the software and hardware resources, please call <a class="reference internal" href="#_CPPv424touch_sensor_del_channel22touch_channel_handle_t" title="touch_sensor_del_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_del_channel()</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_del_channel</span><span class="p">(</span><span class="n">chan_handle</span><span class="p">));</span>
</pre></div>
</div>
<p>You can also update the configurations via <a class="reference internal" href="#_CPPv429touch_sensor_reconfig_channel22touch_channel_handle_tPK22touch_channel_config_t" title="touch_sensor_reconfig_channel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_reconfig_channel()</span></code></a> before the controller is enabled.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">touch_channel_config_t</span><span class="w"> </span><span class="n">chan_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// New touch channel configurations</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_reconfig_channel</span><span class="p">(</span><span class="n">chan_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">chan_cfg</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="filter-configuration">
<span id="touch-filter"></span><h3>Filter Configuration<a class="headerlink" href="#filter-configuration" title="Permalink to this heading"></a></h3>
<p>The filter can help to increase the stability in different use cases. The filter can be registered by calling <a class="reference internal" href="#_CPPv426touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t" title="touch_sensor_config_filter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_config_filter()</span></code></a> and specify the configurations <a class="reference internal" href="#_CPPv428touch_sensor_filter_config_t" title="touch_sensor_filter_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_sensor_filter_config_t</span></code></a>. These configurations mainly determine how to filter and update the benchmark and read data. Please note that all touch channels will share this filter.</p>
<p>To deregister the filter, you can call <a class="reference internal" href="#_CPPv426touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t" title="touch_sensor_config_filter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_config_filter()</span></code></a> again, and set the second parameter (i.e. <a class="reference internal" href="#_CPPv428touch_sensor_filter_config_t" title="touch_sensor_filter_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_sensor_filter_config_t</span></code></a> pointer) to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>The touch sensor version v1 does not natively support the hardware filter, but the driver can set up a periodically triggered software filter based on <code class="docutils literal notranslate"><span class="pre">esp_timer</span></code>. The interval for the software filter can be specified by <a class="reference internal" href="#_CPPv4N28touch_sensor_filter_config_t11interval_msE" title="touch_sensor_filter_config_t::interval_ms"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_filter_config_t::interval_ms</span></code></a>. Additionally, the <a class="reference internal" href="#_CPPv4N28touch_sensor_filter_config_t14data_filter_fnE" title="touch_sensor_filter_config_t::data_filter_fn"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_filter_config_t::data_filter_fn</span></code></a> supports to specify a custom filtering function. If there are no special filter requirements, this interface can be set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> to use the default filter in the driver.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>
<span class="n">touch_sensor_filter_config_t</span><span class="w"> </span><span class="n">filter_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Filter configurations</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="c1">// Register the filter</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_config_filter</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">filter_config</span><span class="p">));</span>
<span class="c1">// ...</span>
<span class="c1">// Deregister the filter</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_config_filter</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="callback">
<span id="touch-callback"></span><h3>Callback<a class="headerlink" href="#callback" title="Permalink to this heading"></a></h3>
<p>Calling <a class="reference internal" href="#_CPPv431touch_sensor_register_callbacks21touch_sensor_handle_tPK23touch_event_callbacks_tPv" title="touch_sensor_register_callbacks"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></a> to register the touch sensor event callbacks. Once the touch sensor events (like <code class="docutils literal notranslate"><span class="pre">on_active</span></code>, <code class="docutils literal notranslate"><span class="pre">on_inactive</span></code>) trigger, the corresponding callbacks will be invoked, so that to deal with the event in the upper application.</p>
<p>For the general example, when the measured data of the current touch channel exceed the <code class="docutils literal notranslate"><span class="pre">benchmark</span></code> + <code class="docutils literal notranslate"><span class="pre">active_threshold</span></code>, this channel is activated, and the driver will call <code class="docutils literal notranslate"><span class="pre">on_active</span></code> callback to inform the application layer. Similar, when the active channel measured a lower data than <code class="docutils literal notranslate"><span class="pre">benchmark</span></code> + <code class="docutils literal notranslate"><span class="pre">active_threshold</span></code>, then this channel will be inactivated, and <code class="docutils literal notranslate"><span class="pre">on_inactive</span></code> will be called to inform this channel is released.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To ensure the stability of the triggering and releasing, <code class="docutils literal notranslate"><span class="pre">active_hysteresis</span></code> and <code class="docutils literal notranslate"><span class="pre">debounce_cnt</span></code> can be configured to avoid the frequent triggering that caused by jitter and noise.</p>
</div>
<p>Please refer to <a class="reference internal" href="#_CPPv423touch_event_callbacks_t" title="touch_event_callbacks_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_event_callbacks_t</span></code></a> for the details about the supported callbacks.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">touch_event_callbacks_t</span><span class="w"> </span><span class="n">callbacks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">on_active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">example_touch_on_active_cb</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Other callbacks</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span>
<span class="c1">// Register callbacks</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_register_callbacks</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">callbacks</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">));</span>

<span class="c1">// To deregister callbacks, set the corresponding callback to NULL</span>
<span class="n">callbacks</span><span class="p">.</span><span class="n">on_active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="c1">// Other callbacks to deregister</span>
<span class="c1">// ...</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_register_callbacks</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">callbacks</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="enable-and-disable">
<span id="touch-enable"></span><h3>Enable and Disable<a class="headerlink" href="#enable-and-disable" title="Permalink to this heading"></a></h3>
<p>After finished the configuration of the touch controller and touch channels, <a class="reference internal" href="#_CPPv419touch_sensor_enable21touch_sensor_handle_t" title="touch_sensor_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_enable()</span></code></a> can be called to enable the touch sensor controller. It will enter <code class="docutils literal notranslate"><span class="pre">READY</span></code> status and power on the registered channels, then you can start scanning and sampling the touch data. Note that you can only do scanning and reading operation once the controller is enabled. If you want to update the controller or channel configurations, you need to call <a class="reference internal" href="#_CPPv420touch_sensor_disable21touch_sensor_handle_t" title="touch_sensor_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_disable()</span></code></a> first.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Enable touch sensor</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_enable</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">));</span>
<span class="c1">// ...</span>
<span class="c1">// Disable touch sensor</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_disable</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="continuous-scan">
<span id="touch-conti-scan"></span><h3>Continuous Scan<a class="headerlink" href="#continuous-scan" title="Permalink to this heading"></a></h3>
<p>With the touch controller enabled, <a class="reference internal" href="#_CPPv438touch_sensor_start_continuous_scanning21touch_sensor_handle_t" title="touch_sensor_start_continuous_scanning"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_start_continuous_scanning()</span></code></a> can be called to start the continuous scanning to all the registered touch channels. The read data of these touch channels will be updated automatically in each scan. Calling <a class="reference internal" href="#_CPPv437touch_sensor_stop_continuous_scanning21touch_sensor_handle_t" title="touch_sensor_stop_continuous_scanning"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_stop_continuous_scanning()</span></code></a> can stop the continuous scan.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Start continuous scan</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_start_continuous_scanning</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">));</span>
<span class="c1">// ...</span>
<span class="c1">// Stop continuous scan</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_stop_continuous_scanning</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="oneshot-scan">
<span id="touch-oneshot-scan"></span><h3>Oneshot Scan<a class="headerlink" href="#oneshot-scan" title="Permalink to this heading"></a></h3>
<p>With the touch controller enabled, <a class="reference internal" href="#_CPPv437touch_sensor_trigger_oneshot_scanning21touch_sensor_handle_ti" title="touch_sensor_trigger_oneshot_scanning"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_trigger_oneshot_scanning()</span></code></a> can be called to trigger an one-time scan to all the registered touch channels. Note that oneshot scan is a blocking function, it will keep blocking and only return when the scan is finished. Moreover, you can't trigger an oneshot scan after the continuous scan has started.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Trigger an oneshot scan with timeout 1000 ms</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_trigger_oneshot_scanning</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="read-measurement-data">
<span id="touch-read"></span><h3>Read Measurement Data<a class="headerlink" href="#read-measurement-data" title="Permalink to this heading"></a></h3>
<p>Call <a class="reference internal" href="#_CPPv423touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t" title="touch_channel_read_data"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_channel_read_data()</span></code></a> to read the data with different types. Like, benchmark, smooth data, etc. You can refer to <a class="reference internal" href="#_CPPv422touch_chan_data_type_t" title="touch_chan_data_type_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_chan_data_type_t</span></code></a> for the supported data types.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define SAMPLE_NUM  1  </span><span class="c1">// Take one sample configuration set for example</span>
<span class="kt">uint32_t</span><span class="w"> </span><span class="n">smooth_data</span><span class="p">[</span><span class="n">SAMPLE_NUM</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="c1">// Read the smooth data</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_channel_read_data</span><span class="p">(</span><span class="n">chan_handle</span><span class="p">,</span><span class="w"> </span><span class="n">TOUCH_CHAN_DATA_TYPE_SMOOTH</span><span class="p">,</span><span class="w"> </span><span class="n">smooth_data</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="sleep-wake-up-configuration">
<span id="touch-denoise-chan"></span><span id="touch-sleep-wakeup"></span><span id="touch-prox-sensing"></span><span id="touch-waterproof"></span><span id="touch-benchmark"></span><h3>Sleep Wake-up Configuration<a class="headerlink" href="#sleep-wake-up-configuration" title="Permalink to this heading"></a></h3>
<p>The ESP32 supports waking-up the chip from light sleep or deep sleep with the touch sensor as a wake-up source. The wake-up functionality can be registered by calling  <a class="reference internal" href="#_CPPv432touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t" title="touch_sensor_config_sleep_wakeup"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_config_sleep_wakeup()</span></code></a> and specifying the configurations <a class="reference internal" href="#_CPPv420touch_sleep_config_t" title="touch_sleep_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_sleep_config_t</span></code></a>.</p>
<p>After registering the touch sensor sleep wake-up, the chip will continue to sample the touch channels after sleep, which will increase the power consumption during the sleep. To reduce the sleep power consumption, you can reduce the number of charging and discharging times, increase the sampling interval, etc.</p>
<p>Moreover, please note that the operations like sampling, wake-up are all done by hardware when the main core is sleeping. Since this driver runs on the main core, it cannot provide functions such as reading or configuring during the sleep.</p>
<p><ul class="simple">
<li><p>Light sleep wake-up: you need to set <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">slp_wakeup_lvl</span></code> to <a class="reference internal" href="#_CPPv4N26touch_sleep_wakeup_level_t24TOUCH_LIGHT_SLEEP_WAKEUPE" title="TOUCH_LIGHT_SLEEP_WAKEUP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TOUCH_LIGHT_SLEEP_WAKEUP</span></code></a> to enable the light sleep wake-up by touch sensor. Note that any registered touch channel can wake-up the chip from light sleep.</p></li>
<li><p>Deep sleep wake-up: you need to set <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">slp_wakeup_lvl</span></code> to <a class="reference internal" href="#_CPPv4N26touch_sleep_wakeup_level_t23TOUCH_DEEP_SLEEP_WAKEUPE" title="TOUCH_DEEP_SLEEP_WAKEUP"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">TOUCH_DEEP_SLEEP_WAKEUP</span></code></a> to enable the deep sleep wake-up by touch sensor. Note that in version v1, enabling Deep-sleep wake-up will keep the RTC domain power on during the deep-sleep to maintain the operation of the touch sensor. At this time, any registered touch sensor channels can continue sampling and support waking up from Deep-sleep.</p></li>
</ul>
</p>
<p>To deregister the sleep wake-up function, you can call <a class="reference internal" href="#_CPPv432touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t" title="touch_sensor_config_sleep_wakeup"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">touch_sensor_config_sleep_wakeup()</span></code></a> again, and set the second parameter (i.e. <a class="reference internal" href="#_CPPv420touch_sleep_config_t" title="touch_sleep_config_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">touch_sleep_config_t</span></code></a> pointer) to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">touch_sleep_config_t</span><span class="w"> </span><span class="n">light_slp_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TOUCH_SENSOR_DEFAULT_LSLP_CONFIG</span><span class="p">();</span>
<span class="c1">// Register the light sleep wake-up</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_config_sleep_wakeup</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">light_slp_cfg</span><span class="p">));</span>
<span class="c1">// ...</span>
<span class="c1">// Deregister the light sleep wake-up</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_config_sleep_wakeup</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">));</span>
<span class="c1">// Default Deep-sleep wake-up configurations: RTC_PERIPH will keep power on during the Deep-sleep,</span>
<span class="c1">// All enabled touch channel can wake-up the chip from Deep-sleep</span>
<span class="n">touch_sleep_config_t</span><span class="w"> </span><span class="n">deep_slp_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TOUCH_SENSOR_DEFAULT_DSLP_CONFIG</span><span class="p">();</span>
<span class="c1">// Default Deep-sleep wake-up power down configurations: RTC_PERIPH will be powered down during the Deep-sleep,</span>
<span class="c1">// only the specified sleep pad can wake-up the chip from Deep-sleep</span>
<span class="c1">// touch_sleep_config_t deep_slp_cfg = TOUCH_SENSOR_DEFAULT_DSLP_PD_CONFIG(sleep_channel, slp_chan_thresh1, ...);</span>
<span class="c1">// Register the deep sleep wake-up</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">touch_sensor_config_sleep_wakeup</span><span class="p">(</span><span class="n">sens_handle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">deep_slp_cfg</span><span class="p">));</span>
</pre></div>
</div>
</section>
</section>
<section id="application-examples">
<h2>Application Examples<a class="headerlink" href="#application-examples" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/758939ca/examples/peripherals/touch_sensor/touch_sens_basic">peripherals/touch_sensor/touch_sens_basic</a> demonstrates how to register touch channels and read the data, including hardware requirements and project configuration instructions.</p></li>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/tree/758939ca/examples/peripherals/touch_sensor/touch_sens_sleep">peripherals/touch_sensor/touch_sens_sleep</a> demonstrates how to wake up the chip from the light or deep sleep by the touch sensor.</p></li>
</ul>
</div></blockquote>
</section>
<section id="application-notes">
<h2>Application Notes<a class="headerlink" href="#application-notes" title="Permalink to this heading"></a></h2>
<section id="touch-sensor-power-consumption-issues">
<h3>Touch Sensor Power Consumption Issues<a class="headerlink" href="#touch-sensor-power-consumption-issues" title="Permalink to this heading"></a></h3>
<p>Due to the capacitive charging and discharging operation in the touch sensor measurements, it is a relatively high power-consuming peripheral. In applications with high power consumption requirements, the following methods can be helpful to reduce the power consumption.</p>
<p><ul class="simple">
<li><p>Reduce the number of touch channels: Multiple functions (such as single-press, double-press, long press, etc.) can be multiplexed on the same channel, thereby reducing the number of touch sensors.</p></li>
<li><p>Increase the measurement interval: By increasing the measurement interval <a class="reference internal" href="#_CPPv4N21touch_sensor_config_t16meas_interval_usE" title="touch_sensor_config_t::meas_interval_us"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_config_t::meas_interval_us</span></code></a>, the measurement frequency will be reduced, thereby lowering down the power consumption.</p></li>
<li><p>Reduce single measurement duration: By decreasing the single measurement duration <a class="reference internal" href="#_CPPv4N28touch_sensor_sample_config_t18charge_duration_msE" title="touch_sensor_sample_config_t::charge_duration_ms"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_sample_config_t::charge_duration_ms</span></code></a>, the number of charging and discharging cycles is reduced, resulting in lower power consumption.</p></li>
<li><p>Lower down the charging and discharging amplitudes: <a class="reference internal" href="#_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_lE" title="touch_sensor_sample_config_t::charge_volt_lim_l"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_sample_config_t::charge_volt_lim_l</span></code></a> and <a class="reference internal" href="#_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_hE" title="touch_sensor_sample_config_t::charge_volt_lim_h"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_sensor_sample_config_t::charge_volt_lim_h</span></code></a> can specify the lower voltage limit during the discharging and the upper voltage limit during the charging. Reducing both voltage limitations and the voltage error between them can also decrease the power consumption.</p></li>
<li><p>Reduce the current bias intensity: Lowering down <a class="reference internal" href="#_CPPv4N22touch_channel_config_t12charge_speedE" title="touch_channel_config_t::charge_speed"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">touch_channel_config_t::charge_speed</span></code></a> (i.e., the current magnitude of the current bias) can help to reduce the power consumption.</p></li>
</ul>
</p>
</section>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/758939ca/components/esp_driver_touch_sens/include/driver/touch_sens.h">components/esp_driver_touch_sens/include/driver/touch_sens.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/touch_sens.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_touch_sens
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_touch_sens
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427touch_sensor_new_controllerPK21touch_sensor_config_tP21touch_sensor_handle_t">
<span id="_CPPv327touch_sensor_new_controllerPK21touch_sensor_config_tP21touch_sensor_handle_t"></span><span id="_CPPv227touch_sensor_new_controllerPK21touch_sensor_config_tP21touch_sensor_handle_t"></span><span id="touch_sensor_new_controller__touch_sensor_config_tCP.touch_sensor_handle_tP"></span><span class="target" id="touch__sens_8h_1aedfe6bc885d9cc546184a8118a5e15d2"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_new_controller</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421touch_sensor_config_t" title="touch_sensor_config_t"><span class="n"><span class="pre">touch_sensor_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sens_cfg</span></span>, <a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427touch_sensor_new_controllerPK21touch_sensor_config_tP21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Allocate a new touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The touch sensor driver will be in INIT state after this function is called successfully.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_cfg</strong> -- <strong>[in]</strong> Touch sensor controller configurations </p></li>
<li><p><strong>ret_sens_handle</strong> -- <strong>[out]</strong> The return handle of the touch controller instance </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_NO_MEM No memory for the touch sensor controller</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller is already allocated </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427touch_sensor_del_controller21touch_sensor_handle_t">
<span id="_CPPv327touch_sensor_del_controller21touch_sensor_handle_t"></span><span id="_CPPv227touch_sensor_del_controller21touch_sensor_handle_t"></span><span id="touch_sensor_del_controller__touch_sensor_handle_t"></span><span class="target" id="touch__sens_8h_1a8a25273b0393779de4b7affa3a7bc76c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_del_controller</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427touch_sensor_del_controller21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete the touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE Controller not disabled or still some touch channels not deleted </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424touch_sensor_new_channel21touch_sensor_handle_tiPK22touch_channel_config_tP22touch_channel_handle_t">
<span id="_CPPv324touch_sensor_new_channel21touch_sensor_handle_tiPK22touch_channel_config_tP22touch_channel_handle_t"></span><span id="_CPPv224touch_sensor_new_channel21touch_sensor_handle_tiPK22touch_channel_config_tP22touch_channel_handle_t"></span><span id="touch_sensor_new_channel__touch_sensor_handle_t.i.touch_channel_config_tCP.touch_channel_handle_tP"></span><span class="target" id="touch__sens_8h_1ac887de5282dbeb2a99ae24f224636299"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_new_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">chan_id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422touch_channel_config_t" title="touch_channel_config_t"><span class="n"><span class="pre">touch_channel_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">chan_cfg</span></span>, <a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ret_chan_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424touch_sensor_new_channel21touch_sensor_handle_tiPK22touch_channel_config_tP22touch_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Allocate a new touch channel from the touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>chan_id</strong> -- <strong>[in]</strong> Touch channel index </p></li>
<li><p><strong>chan_cfg</strong> -- <strong>[in]</strong> Touch channel configurations </p></li>
<li><p><strong>ret_chan_handle</strong> -- <strong>[out]</strong> The return handle of the touch channel instance </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_NO_MEM No memory for the touch sensor channel</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has not disabled or this channel has been allocated </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424touch_sensor_del_channel22touch_channel_handle_t">
<span id="_CPPv324touch_sensor_del_channel22touch_channel_handle_t"></span><span id="_CPPv224touch_sensor_del_channel22touch_channel_handle_t"></span><span id="touch_sensor_del_channel__touch_channel_handle_t"></span><span class="target" id="touch__sens_8h_1a9b65ca176a3180390bd8019099a9bb0b"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_del_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">chan_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424touch_sensor_del_channel22touch_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Delete the touch channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state). </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the channel has been enabled other sub-features like proximity sensing, sleep wakeup, waterproof, denoise. The attached sub-features will be disabled while deleting the channel.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chan_handle</strong> -- <strong>[in]</strong> Touch channel handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has not disabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432touch_sensor_reconfig_controller21touch_sensor_handle_tPK21touch_sensor_config_t">
<span id="_CPPv332touch_sensor_reconfig_controller21touch_sensor_handle_tPK21touch_sensor_config_t"></span><span id="_CPPv232touch_sensor_reconfig_controller21touch_sensor_handle_tPK21touch_sensor_config_t"></span><span id="touch_sensor_reconfig_controller__touch_sensor_handle_t.touch_sensor_config_tCP"></span><span class="target" id="touch__sens_8h_1aff140704bf0b6b5acbb44feba6ee5ce4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_reconfig_controller</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421touch_sensor_config_t" title="touch_sensor_config_t"><span class="n"><span class="pre">touch_sensor_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sens_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432touch_sensor_reconfig_controller21touch_sensor_handle_tPK21touch_sensor_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Re-configure the touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state). </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The re-configuration only applies to the touch controller, so it requires the controller handle that allocated from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller</span></code>, meanwhile, it won't affect the touch channels, no matter the channels are allocated or not.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>sens_cfg</strong> -- <strong>[in]</strong> Touch sensor controller configurations </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has not disabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429touch_sensor_reconfig_channel22touch_channel_handle_tPK22touch_channel_config_t">
<span id="_CPPv329touch_sensor_reconfig_channel22touch_channel_handle_tPK22touch_channel_config_t"></span><span id="_CPPv229touch_sensor_reconfig_channel22touch_channel_handle_tPK22touch_channel_config_t"></span><span id="touch_sensor_reconfig_channel__touch_channel_handle_t.touch_channel_config_tCP"></span><span class="target" id="touch__sens_8h_1a0ebe67ab1c7bd5e79e51fe84e6094508"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_reconfig_channel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">chan_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422touch_channel_config_t" title="touch_channel_config_t"><span class="n"><span class="pre">touch_channel_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">chan_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429touch_sensor_reconfig_channel22touch_channel_handle_tPK22touch_channel_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Re-configure the touch channel. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state). </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The re-configuration only applies to a particular touch channel, so it requires the channel handle that allocated from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_channel</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chan_handle</strong> -- <strong>[in]</strong> Touch channel handle </p></li>
<li><p><strong>chan_cfg</strong> -- <strong>[in]</strong> Touch channel configurations </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has not disabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t">
<span id="_CPPv326touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t"></span><span id="_CPPv226touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t"></span><span id="touch_sensor_config_filter__touch_sensor_handle_t.touch_sensor_filter_config_tCP"></span><span class="target" id="touch__sens_8h_1afcbde7c4ab661cd25aaf48ad851e967c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_config_filter</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428touch_sensor_filter_config_t" title="touch_sensor_filter_config_t"><span class="n"><span class="pre">touch_sensor_filter_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filter_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426touch_sensor_config_filter21touch_sensor_handle_tPK28touch_sensor_filter_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure the touch sensor filter. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is allowed to be called after the touch sensor is enabled</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>filter_cfg</strong> -- <strong>[in]</strong> Filter configurations, set NULL to disable the filter </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Configure the filter success</p></li>
<li><p>ESP_ERR_INVALID_ARG: The sensor handle is NULL </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419touch_sensor_enable21touch_sensor_handle_t">
<span id="_CPPv319touch_sensor_enable21touch_sensor_handle_t"></span><span id="_CPPv219touch_sensor_enable21touch_sensor_handle_t"></span><span id="touch_sensor_enable__touch_sensor_handle_t"></span><span class="target" id="touch__sens_8h_1af6712c401af7218e89f5022878cda3d9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_enable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419touch_sensor_enable21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable the touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state). And the touch sensor driver will be in ENABLED state after this function is called successfully. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enable the touch sensor will power on the registered touch channels</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has already enabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420touch_sensor_disable21touch_sensor_handle_t">
<span id="_CPPv320touch_sensor_disable21touch_sensor_handle_t"></span><span id="_CPPv220touch_sensor_disable21touch_sensor_handle_t"></span><span id="touch_sensor_disable__touch_sensor_handle_t"></span><span class="target" id="touch__sens_8h_1ad30a1bdb5fee84fc9d5d7fe635a0f091"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_disable</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420touch_sensor_disable21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disable the touch sensor controller. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can only be called after the touch sensor controller is enabled (i.e. ENABLED state). And the touch sensor driver will be in INIT state after this function is called successfully. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disable the touch sensor will power off the registered touch channels</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller has already disabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv438touch_sensor_start_continuous_scanning21touch_sensor_handle_t">
<span id="_CPPv338touch_sensor_start_continuous_scanning21touch_sensor_handle_t"></span><span id="_CPPv238touch_sensor_start_continuous_scanning21touch_sensor_handle_t"></span><span id="touch_sensor_start_continuous_scanning__touch_sensor_handle_t"></span><span class="target" id="touch__sens_8h_1a2c8e3f93ff35225adc45125f10a0acc4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_start_continuous_scanning</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv438touch_sensor_start_continuous_scanning21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start the scanning of the registered touch channels continuously. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can only be called after the touch sensor controller is enabled (i.e. ENABLED state). And the touch sensor driver will be in SCANNING state after this function is called successfully. And it can also be called in ISR/callback context. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The hardware FSM (Finite-State Machine) of touch sensor will be driven by its hardware timer continuously and repeatedly. i.e., the registered channels will be scanned one by one repeatedly.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller is not enabled or the continuous scanning has started </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437touch_sensor_stop_continuous_scanning21touch_sensor_handle_t">
<span id="_CPPv337touch_sensor_stop_continuous_scanning21touch_sensor_handle_t"></span><span id="_CPPv237touch_sensor_stop_continuous_scanning21touch_sensor_handle_t"></span><span id="touch_sensor_stop_continuous_scanning__touch_sensor_handle_t"></span><span class="target" id="touch__sens_8h_1a14d37907b4b93934693c1f660e3342f9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_stop_continuous_scanning</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437touch_sensor_stop_continuous_scanning21touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop the continuous scanning of the registered touch channels immediately. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can only be called after the continuous scanning started (i.e. SCANNING state). And the touch sensor driver will be in ENABLED state after this function is called successfully. And it can also be called in ISR/callback context. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Stop the hardware timer and reset the FSM (Finite-State Machine) of the touch sensor controller</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE The continuous scanning has stopped </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437touch_sensor_trigger_oneshot_scanning21touch_sensor_handle_ti">
<span id="_CPPv337touch_sensor_trigger_oneshot_scanning21touch_sensor_handle_ti"></span><span id="_CPPv237touch_sensor_trigger_oneshot_scanning21touch_sensor_handle_ti"></span><span id="touch_sensor_trigger_oneshot_scanning__touch_sensor_handle_t.i"></span><span class="target" id="touch__sens_8h_1a93e41159233a5b6c87ef521ca3fbbde9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_trigger_oneshot_scanning</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437touch_sensor_trigger_oneshot_scanning21touch_sensor_handle_ti" title="Permalink to this definition"></a><br /></dt>
<dd><p>Trigger an oneshot scanning for all the registered channels. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can only be called after the touch sensor controller is enabled (i.e. ENABLED state). And the touch sensor driver will be in SCANNING state after this function is called successfully, and then switch back to ENABLED state after the scanning is done or timeout. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The block time of this function depends on various factors, In common practice, recommend to set the timeout to several seconds or wait forever, because oneshot scanning can't last for so long.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>timeout_ms</strong> -- <strong>[in]</strong> Set a positive value or zero means scan timeout in milliseconds Set a negative value means wait forever until finished scanning </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_TIMEOUT Timeout to finish the oneshot scanning</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument</p></li>
<li><p>ESP_ERR_INVALID_STATE The touch sensor controller is not enabled or the continuous scanning has started </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431touch_sensor_register_callbacks21touch_sensor_handle_tPK23touch_event_callbacks_tPv">
<span id="_CPPv331touch_sensor_register_callbacks21touch_sensor_handle_tPK23touch_event_callbacks_tPv"></span><span id="_CPPv231touch_sensor_register_callbacks21touch_sensor_handle_tPK23touch_event_callbacks_tPv"></span><span id="touch_sensor_register_callbacks__touch_sensor_handle_t.touch_event_callbacks_tCP.voidP"></span><span class="target" id="touch__sens_8h_1ad30833ab2dfbc4aaff8da71055d319b6"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_register_callbacks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423touch_event_callbacks_t" title="touch_event_callbacks_t"><span class="n"><span class="pre">touch_event_callbacks_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">callbacks</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431touch_sensor_register_callbacks21touch_sensor_handle_tPK23touch_event_callbacks_tPv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Register the touch sensor callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called when the touch sensor controller is NOT enabled (i.e. INIT state).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>callbacks</strong> -- <strong>[in]</strong> Callback functions </p></li>
<li><p><strong>user_ctx</strong> -- <strong>[in]</strong> User context that will be passed to the callback functions </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG NULL pointer</p></li>
<li><p>ESP_ERR_INVALID_STATE Touch sensor controller has not disabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t">
<span id="_CPPv323touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t"></span><span id="_CPPv223touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t"></span><span id="touch_channel_read_data__touch_channel_handle_t.touch_chan_data_type_t.uint32_tP"></span><span class="target" id="touch__sens_8h_1a31f311e995459c980612c03db362ae16"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_channel_read_data</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">chan_handle</span></span>, <a class="reference internal" href="#_CPPv422touch_chan_data_type_t" title="touch_chan_data_type_t"><span class="n"><span class="pre">touch_chan_data_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423touch_channel_read_data22touch_channel_handle_t22touch_chan_data_type_tP8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the touch channel data according to the types. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function can be called no matter the touch sensor controller is enabled or not (i.e. ENABLED or SCANNING state). And it can also be called in ISR/callback context. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Specially, <code class="docutils literal notranslate"><span class="pre">TOUCH_CHAN_DATA_TYPE_PROXIMITY</span></code> data type will be read from the cached data in the driver, because the proximity data need to be accumulated in several scan times that specified by <code class="docutils literal notranslate"><span class="pre">touch_proximity_config_t::scan_times</span></code>. For other data types, the data are read from the hardware registers directly (not cached in the driver). The channel data in the register will be updated once the measurement of this channels is done, And keep locked until the next measurement is done.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chan_handle</strong> -- <strong>[in]</strong> Touch channel handle </p></li>
<li><p><strong>type</strong> -- <strong>[in]</strong> Specify the data type to read </p></li>
<li><p><strong>data</strong> -- <strong>[out]</strong> The data array pointer. If the target supports multiple sample configurations (SOC_TOUCH_SAMPLE_CFG_NUM), the array length should be equal to the frequency hopping number that specified in <code class="docutils literal notranslate"><a class="reference internal" href="#structtouch__sensor__config__t_1ad9fc71b9f32593f05aab441b28c062e9"><span class="std std-ref"><span class="pre">touch_sensor_config_t::sample_cfg_num</span></span></a></code>, otherwise the array length should be 1. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK On success</p></li>
<li><p>ESP_ERR_INVALID_ARG Invalid argument or NULL pointer </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t">
<span id="_CPPv332touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t"></span><span id="_CPPv232touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t"></span><span id="touch_sensor_config_sleep_wakeup__touch_sensor_handle_t.touch_sleep_config_tCP"></span><span class="target" id="touch__sens_8h_1a47d712869341614b71fdda1ecc568671"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_config_sleep_wakeup</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sens_handle</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420touch_sleep_config_t" title="touch_sleep_config_t"><span class="n"><span class="pre">touch_sleep_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sleep_cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432touch_sensor_config_sleep_wakeup21touch_sensor_handle_tPK20touch_sleep_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure the touch sensor to wake-up the chip from sleep. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Call this function to enable/disable the touch sensor wake-up the chip from deep/light sleep To only enable the touch sensor wake-up the chip from light sleep, set the <code class="docutils literal notranslate"><span class="pre">touch_sleep_config_t::deep_slp_chan</span></code> to NULL. During the light sleep, all enabled touch channels will keep working, and any one of them can wake-up the chip from light sleep. To enable the touch sensor wake-up the chip from both light and deep sleep, set the <code class="docutils literal notranslate"><span class="pre">touch_sleep_config_t::deep_slp_chan</span></code> to an enabled channel. During the deep sleep, only this specified channels can work and wake-up the chip from the deep sleep, and other enabled channels can only wake-up the chip from light sleep.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sens_handle</strong> -- <strong>[in]</strong> Touch sensor controller handle </p></li>
<li><p><strong>sleep_cfg</strong> -- <strong>[in]</strong> Sleep wake-up configurations, set NULL to disable the touch sensor wake-up the chip from sleep </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Configure the sleep channel success</p></li>
<li><p>ESP_ERR_INVALID_ARG: The sensor handle is NULL</p></li>
<li><p>ESP_ERR_INVALID_STATE: The touch sensor is enabled </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429touch_sensor_get_channel_info22touch_channel_handle_tP17touch_chan_info_t">
<span id="_CPPv329touch_sensor_get_channel_info22touch_channel_handle_tP17touch_chan_info_t"></span><span id="_CPPv229touch_sensor_get_channel_info22touch_channel_handle_tP17touch_chan_info_t"></span><span id="touch_sensor_get_channel_info__touch_channel_handle_t.touch_chan_info_tP"></span><span class="target" id="touch__sens_8h_1a893fae177ce3005cba653c3e4dce428d"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><span class="n"><span class="pre">esp_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_get_channel_info</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">chan_handle</span></span>, <a class="reference internal" href="#_CPPv417touch_chan_info_t" title="touch_chan_info_t"><span class="n"><span class="pre">touch_chan_info_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">chan_info</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429touch_sensor_get_channel_info22touch_channel_handle_tP17touch_chan_info_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the touch channel information by the channel handle. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chan_handle</strong> -- <strong>[in]</strong> Touch channel handle </p></li>
<li><p><strong>chan_info</strong> -- <strong>[out]</strong> Touch channel information </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>ESP_OK: Success to get the channel information</p></li>
<li><p>ESP_ERR_INVALID_ARG: NULL pointer </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417touch_chan_info_t">
<span id="_CPPv317touch_chan_info_t"></span><span id="_CPPv217touch_chan_info_t"></span><span id="touch_chan_info_t"></span><span class="target" id="structtouch__chan__info__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_chan_info_t</span></span></span><a class="headerlink" href="#_CPPv417touch_chan_info_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch channel information. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t7chan_idE">
<span id="_CPPv3N17touch_chan_info_t7chan_idE"></span><span id="_CPPv2N17touch_chan_info_t7chan_idE"></span><span id="touch_chan_info_t::chan_id__i"></span><span class="target" id="structtouch__chan__info__t_1a136ae6310ff168958eb1ad23a496505e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">chan_id</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t7chan_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch channel number </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t9chan_gpioE">
<span id="_CPPv3N17touch_chan_info_t9chan_gpioE"></span><span id="_CPPv2N17touch_chan_info_t9chan_gpioE"></span><span id="touch_chan_info_t::chan_gpio__i"></span><span class="target" id="structtouch__chan__info__t_1a55baa5ba9883be4b3ab07d98f80acd9f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">chan_gpio</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t9chan_gpioE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Corresponding GPIO of this channel </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t17abs_active_threshE">
<span id="_CPPv3N17touch_chan_info_t17abs_active_threshE"></span><span id="_CPPv2N17touch_chan_info_t17abs_active_threshE"></span><span id="touch_chan_info_t::abs_active_thresh__uint32_tA"></span><span class="target" id="structtouch__chan__info__t_1ac1f68f40be42dabadc83ca74898b8317"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">abs_active_thresh</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">TOUCH_SAMPLE_CFG_NUM</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t17abs_active_threshE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The configured absolute threshould of this channel (only used for V1) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t13active_threshE">
<span id="_CPPv3N17touch_chan_info_t13active_threshE"></span><span id="_CPPv2N17touch_chan_info_t13active_threshE"></span><span id="touch_chan_info_t::active_thresh__uint32_tA"></span><span class="target" id="structtouch__chan__info__t_1a12cd0db3495364fea73d117fa00b3f6d"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">active_thresh</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">TOUCH_SAMPLE_CFG_NUM</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t13active_threshE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The configured relative threshould of this channel (used except V1) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t15can_wake_dp_slpE">
<span id="_CPPv3N17touch_chan_info_t15can_wake_dp_slpE"></span><span id="_CPPv2N17touch_chan_info_t15can_wake_dp_slpE"></span><span id="touch_chan_info_t::can_wake_dp_slp__uint32_t"></span><span class="target" id="structtouch__chan__info__t_1a60906dccd85ca4114bec52bf012fe27f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">can_wake_dp_slp</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t15can_wake_dp_slpE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this channel can wakeup from deep sleep </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t8is_proxiE">
<span id="_CPPv3N17touch_chan_info_t8is_proxiE"></span><span id="_CPPv2N17touch_chan_info_t8is_proxiE"></span><span id="touch_chan_info_t::is_proxi__uint32_t"></span><span class="target" id="structtouch__chan__info__t_1a0b7a1f434e7635a4af266f96f246f0f8"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_proxi</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t8is_proxiE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this channel is used for proximity sensing </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t8is_guardE">
<span id="_CPPv3N17touch_chan_info_t8is_guardE"></span><span id="_CPPv2N17touch_chan_info_t8is_guardE"></span><span id="touch_chan_info_t::is_guard__uint32_t"></span><span class="target" id="structtouch__chan__info__t_1aa7aaa820b6aebddb4cfb43ff218c7f0b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_guard</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t8is_guardE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this channel is used for waterproof guard channel </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t9is_shieldE">
<span id="_CPPv3N17touch_chan_info_t9is_shieldE"></span><span id="_CPPv2N17touch_chan_info_t9is_shieldE"></span><span id="touch_chan_info_t::is_shield__uint32_t"></span><span class="target" id="structtouch__chan__info__t_1aaf06f50217aae3a2ab2ad5a5c1f50add"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_shield</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t9is_shieldE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this channel is used for waterproof shield channel </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17touch_chan_info_t5flagsE">
<span id="_CPPv3N17touch_chan_info_t5flagsE"></span><span id="_CPPv2N17touch_chan_info_t5flagsE"></span><span id="touch_chan_info_t::flags__touch_chan_info_t"></span><span class="target" id="structtouch__chan__info__t_1a42c23c75148400696903a561cd7c2ef7"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417touch_chan_info_t" title="touch_chan_info_t"><span class="n"><span class="pre">touch_chan_info_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N17touch_chan_info_t5flagsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Channel sub-feature flags </p>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id1">
<h3>Header File<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/758939ca/components/esp_driver_touch_sens/include/driver/touch_sens_types.h">components/esp_driver_touch_sens/include/driver/touch_sens_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/touch_sens_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_touch_sens
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_touch_sens
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SAMPLE_CFG_NUM">
<span class="target" id="touch__sens__types_8h_1ab945a709ec5a0dbab7cb1209877fa4ad"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SAMPLE_CFG_NUM</span></span></span><a class="headerlink" href="#c.TOUCH_SAMPLE_CFG_NUM" title="Permalink to this definition"></a><br /></dt>
<dd><p>The supported max sample configuration number </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_MIN_CHAN_ID">
<span class="target" id="touch__sens__types_8h_1a18645e5eede9c87fec3ad37376f1da64"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_MIN_CHAN_ID</span></span></span><a class="headerlink" href="#c.TOUCH_MIN_CHAN_ID" title="Permalink to this definition"></a><br /></dt>
<dd><p>The minimum available channel id of the touch pad </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_MAX_CHAN_ID">
<span class="target" id="touch__sens__types_8h_1a679b48f81a3791b987241d39ba0a63e3"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_MAX_CHAN_ID</span></span></span><a class="headerlink" href="#c.TOUCH_MAX_CHAN_ID" title="Permalink to this definition"></a><br /></dt>
<dd><p>The maximum available channel id of the touch pad </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_TOTAL_CHAN_NUM">
<span class="target" id="touch__sens__types_8h_1a92b8e7e80ed42355127256426623b8f7"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_TOTAL_CHAN_NUM</span></span></span><a class="headerlink" href="#c.TOUCH_TOTAL_CHAN_NUM" title="Permalink to this definition"></a><br /></dt>
<dd><p>The total channel number of the touch sensor </p>
</dd></dl>

</section>
<section id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="#type-definitions" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421touch_sensor_handle_t">
<span id="_CPPv321touch_sensor_handle_t"></span><span id="_CPPv221touch_sensor_handle_t"></span><span id="touch_sensor_handle_t"></span><span class="target" id="touch__sens__types_8h_1ae2b8cd4d712237fa799bba9a6be997f5"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">touch_sensor_s</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></span><a class="headerlink" href="#_CPPv421touch_sensor_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The handle of touch sensor controller </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422touch_channel_handle_t">
<span id="_CPPv322touch_channel_handle_t"></span><span id="_CPPv222touch_channel_handle_t"></span><span id="touch_channel_handle_t"></span><span class="target" id="touch__sens__types_8h_1ace2d80d725aea1d760da843b8b8e02be"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">touch_channel_s</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">touch_channel_handle_t</span></span></span><a class="headerlink" href="#_CPPv422touch_channel_handle_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The handle of touch channel </p>
</dd></dl>

</section>
<section id="enumerations">
<h3>Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv426touch_sleep_wakeup_level_t">
<span id="_CPPv326touch_sleep_wakeup_level_t"></span><span id="_CPPv226touch_sleep_wakeup_level_t"></span><span class="target" id="touch__sens__types_8h_1af869913a4e8e50641151a90f01375e8d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sleep_wakeup_level_t</span></span></span><a class="headerlink" href="#_CPPv426touch_sleep_wakeup_level_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The chip sleep level that allows the touch sensor to wake-up. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N26touch_sleep_wakeup_level_t24TOUCH_LIGHT_SLEEP_WAKEUPE">
<span id="_CPPv3N26touch_sleep_wakeup_level_t24TOUCH_LIGHT_SLEEP_WAKEUPE"></span><span id="_CPPv2N26touch_sleep_wakeup_level_t24TOUCH_LIGHT_SLEEP_WAKEUPE"></span><span class="target" id="touch__sens__types_8h_1af869913a4e8e50641151a90f01375e8da5eaf53c83a2e0b16c4dec696dcfd0bcd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_LIGHT_SLEEP_WAKEUP</span></span></span><a class="headerlink" href="#_CPPv4N26touch_sleep_wakeup_level_t24TOUCH_LIGHT_SLEEP_WAKEUPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Only enable the touch sensor to wake up the chip from light sleep </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N26touch_sleep_wakeup_level_t23TOUCH_DEEP_SLEEP_WAKEUPE">
<span id="_CPPv3N26touch_sleep_wakeup_level_t23TOUCH_DEEP_SLEEP_WAKEUPE"></span><span id="_CPPv2N26touch_sleep_wakeup_level_t23TOUCH_DEEP_SLEEP_WAKEUPE"></span><span class="target" id="touch__sens__types_8h_1af869913a4e8e50641151a90f01375e8daee7f1a56d2f9f534d0f15bd4f638b9f9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_DEEP_SLEEP_WAKEUP</span></span></span><a class="headerlink" href="#_CPPv4N26touch_sleep_wakeup_level_t23TOUCH_DEEP_SLEEP_WAKEUPE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable the touch sensor to wake up the chip from deep sleep or light sleep </p>
</dd></dl>

</dd></dl>

</section>
<section id="id2">
<h3>Header File<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/espressif/esp-idf/blob/758939ca/components/esp_driver_touch_sens/hw_ver1/include/driver/touch_version_types.h">components/esp_driver_touch_sens/hw_ver1/include/driver/touch_version_types.h</a></p></li>
<li><p>This header file can be included with:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;driver/touch_version_types.h&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>This header file is a part of the API provided by the <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code> component. To declare that your component depends on <code class="docutils literal notranslate"><span class="pre">esp_driver_touch_sens</span></code>, add the following to your CMakeLists.txt:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>REQUIRES esp_driver_touch_sens
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PRIV_REQUIRES esp_driver_touch_sens
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id3">
<h3>Structures<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428touch_sensor_sample_config_t">
<span id="_CPPv328touch_sensor_sample_config_t"></span><span id="_CPPv228touch_sensor_sample_config_t"></span><span id="touch_sensor_sample_config_t"></span><span class="target" id="structtouch__sensor__sample__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_sample_config_t</span></span></span><a class="headerlink" href="#_CPPv428touch_sensor_sample_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sample configurations of the touch sensor. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_sample_config_t18charge_duration_msE">
<span id="_CPPv3N28touch_sensor_sample_config_t18charge_duration_msE"></span><span id="_CPPv2N28touch_sensor_sample_config_t18charge_duration_msE"></span><span id="touch_sensor_sample_config_t::charge_duration_ms__float"></span><span class="target" id="structtouch__sensor__sample__config__t_1a37e5a487123af61ae7f0a57886b8838f"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">charge_duration_ms</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_sample_config_t18charge_duration_msE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Charge duration time of one measurement on a touch channel </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_hE">
<span id="_CPPv3N28touch_sensor_sample_config_t17charge_volt_lim_hE"></span><span id="_CPPv2N28touch_sensor_sample_config_t17charge_volt_lim_hE"></span><span id="touch_sensor_sample_config_t::charge_volt_lim_h__touch_volt_lim_h_t"></span><span class="target" id="structtouch__sensor__sample__config__t_1a75ab3a169dfebfccfa80b7163185dc5c"></span><span class="n"><span class="pre">touch_volt_lim_h_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">charge_volt_lim_h</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_hE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The upper voltage limit while charging a touch pad. i.e., the touch controller won't charge the touch pad higher than this high voltage limitation. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_lE">
<span id="_CPPv3N28touch_sensor_sample_config_t17charge_volt_lim_lE"></span><span id="_CPPv2N28touch_sensor_sample_config_t17charge_volt_lim_lE"></span><span id="touch_sensor_sample_config_t::charge_volt_lim_l__touch_volt_lim_l_t"></span><span class="target" id="structtouch__sensor__sample__config__t_1a103958b734dfade625c7d867db6170be"></span><span class="n"><span class="pre">touch_volt_lim_l_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">charge_volt_lim_l</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_sample_config_t17charge_volt_lim_lE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The lower voltage limit while discharging a touch pad. i.e., the touch controller won't discharge the touch pad lower than this low voltage limitation. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421touch_sensor_config_t">
<span id="_CPPv321touch_sensor_config_t"></span><span id="_CPPv221touch_sensor_config_t"></span><span id="touch_sensor_config_t"></span><span class="target" id="structtouch__sensor__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_config_t</span></span></span><a class="headerlink" href="#_CPPv421touch_sensor_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configurations of the touch sensor controller. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t16power_on_wait_usE">
<span id="_CPPv3N21touch_sensor_config_t16power_on_wait_usE"></span><span id="_CPPv2N21touch_sensor_config_t16power_on_wait_usE"></span><span id="touch_sensor_config_t::power_on_wait_us__uint32_t"></span><span class="target" id="structtouch__sensor__config__t_1ad7d16a2d2f4f33c3215389e374ada66a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">power_on_wait_us</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t16power_on_wait_usE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The waiting time between the channels power on and able to measure, to ensure the data stability </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t16meas_interval_usE">
<span id="_CPPv3N21touch_sensor_config_t16meas_interval_usE"></span><span id="_CPPv2N21touch_sensor_config_t16meas_interval_usE"></span><span id="touch_sensor_config_t::meas_interval_us__float"></span><span class="target" id="structtouch__sensor__config__t_1a69bc2e3b4f8dfd7f8afc1d0d1834965d"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">meas_interval_us</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t16meas_interval_usE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Measurement interval of each channels </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t14intr_trig_modeE">
<span id="_CPPv3N21touch_sensor_config_t14intr_trig_modeE"></span><span id="_CPPv2N21touch_sensor_config_t14intr_trig_modeE"></span><span id="touch_sensor_config_t::intr_trig_mode__touch_intr_trig_mode_t"></span><span class="target" id="structtouch__sensor__config__t_1a0ea715cbaadfb8e91f1039bd9848c2a0"></span><span class="n"><span class="pre">touch_intr_trig_mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_trig_mode</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t14intr_trig_modeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Interrupt trigger mode, the hardware touch interrupt can be triggered either above or below the absolute threshold </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t15intr_trig_groupE">
<span id="_CPPv3N21touch_sensor_config_t15intr_trig_groupE"></span><span id="_CPPv2N21touch_sensor_config_t15intr_trig_groupE"></span><span id="touch_sensor_config_t::intr_trig_group__touch_intr_trig_group_t"></span><span class="target" id="structtouch__sensor__config__t_1ac2d8ce73995aecd9dc4252619b022da4"></span><span class="n"><span class="pre">touch_intr_trig_group_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">intr_trig_group</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t15intr_trig_groupE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Which channel group can trigger the hardware touch interrupt </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t14sample_cfg_numE">
<span id="_CPPv3N21touch_sensor_config_t14sample_cfg_numE"></span><span id="_CPPv2N21touch_sensor_config_t14sample_cfg_numE"></span><span id="touch_sensor_config_t::sample_cfg_num__uint32_t"></span><span class="target" id="structtouch__sensor__config__t_1ad9fc71b9f32593f05aab441b28c062e9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sample_cfg_num</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t14sample_cfg_numE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The sample configuration number that used for sampling, CANNOT exceed TOUCH_SAMPLE_CFG_NUM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21touch_sensor_config_t10sample_cfgE">
<span id="_CPPv3N21touch_sensor_config_t10sample_cfgE"></span><span id="_CPPv2N21touch_sensor_config_t10sample_cfgE"></span><span id="touch_sensor_config_t::sample_cfg__touch_sensor_sample_config_tP"></span><span class="target" id="structtouch__sensor__config__t_1a084272a196e4248ae5c8f2cae7623af9"></span><a class="reference internal" href="#_CPPv428touch_sensor_sample_config_t" title="touch_sensor_sample_config_t"><span class="n"><span class="pre">touch_sensor_sample_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">sample_cfg</span></span></span><a class="headerlink" href="#_CPPv4N21touch_sensor_config_t10sample_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The array of this sample configuration configurations, the length should be specified in <code class="docutils literal notranslate"><a class="reference internal" href="#structtouch__sensor__config__t_1ad9fc71b9f32593f05aab441b28c062e9"><span class="std std-ref"><span class="pre">touch_sensor_config_t::sample_cfg_num</span></span></a></code></p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422touch_channel_config_t">
<span id="_CPPv322touch_channel_config_t"></span><span id="_CPPv222touch_channel_config_t"></span><span id="touch_channel_config_t"></span><span class="target" id="structtouch__channel__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_channel_config_t</span></span></span><a class="headerlink" href="#_CPPv422touch_channel_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configurations of the touch sensor channel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_channel_config_t17abs_active_threshE">
<span id="_CPPv3N22touch_channel_config_t17abs_active_threshE"></span><span id="_CPPv2N22touch_channel_config_t17abs_active_threshE"></span><span id="touch_channel_config_t::abs_active_thresh__uint32_tA"></span><span class="target" id="structtouch__channel__config__t_1af56fcb174cf21527492354e14aea204c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">abs_active_thresh</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">TOUCH_SAMPLE_CFG_NUM</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N22touch_channel_config_t17abs_active_threshE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The absolute active threshould. The <code class="docutils literal notranslate"><span class="pre">on_active</span></code> and <code class="docutils literal notranslate"><span class="pre">on_hw_active</span></code> callback will trigger when<ul class="simple">
<li><p>If <a class="reference internal" href="#structtouch__sensor__config__t_1a0ea715cbaadfb8e91f1039bd9848c2a0"><span class="std std-ref">touch_sensor_config_t::intr_trig_mode</span></a> = TOUCH_INTR_TRIG_ON_BELOW_THRESH, the callback will keep triggering when the touch channel value below the threshold.</p></li>
<li><p>If <a class="reference internal" href="#structtouch__sensor__config__t_1a0ea715cbaadfb8e91f1039bd9848c2a0"><span class="std std-ref">touch_sensor_config_t::intr_trig_mode</span></a> = TOUCH_INTR_TRIG_ON_ABOVE_THRESH, the callback will keep triggering when the touch channel value above the threshold. </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_channel_config_t12charge_speedE">
<span id="_CPPv3N22touch_channel_config_t12charge_speedE"></span><span id="_CPPv2N22touch_channel_config_t12charge_speedE"></span><span id="touch_channel_config_t::charge_speed__touch_charge_speed_t"></span><span class="target" id="structtouch__channel__config__t_1a5dcd4ff62cc752d05ea3c16671905ad1"></span><span class="n"><span class="pre">touch_charge_speed_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">charge_speed</span></span></span><a class="headerlink" href="#_CPPv4N22touch_channel_config_t12charge_speedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The speed of charging and discharging the touch pad, the higher the speed, the faster charging and discharging </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_channel_config_t16init_charge_voltE">
<span id="_CPPv3N22touch_channel_config_t16init_charge_voltE"></span><span id="_CPPv2N22touch_channel_config_t16init_charge_voltE"></span><span id="touch_channel_config_t::init_charge_volt__touch_init_charge_volt_t"></span><span class="target" id="structtouch__channel__config__t_1ac60aca88f163a343eb8c4b8714b3736a"></span><span class="n"><span class="pre">touch_init_charge_volt_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">init_charge_volt</span></span></span><a class="headerlink" href="#_CPPv4N22touch_channel_config_t16init_charge_voltE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The initial voltage before charging/discharging a touch pad </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_channel_config_t5groupE">
<span id="_CPPv3N22touch_channel_config_t5groupE"></span><span id="_CPPv2N22touch_channel_config_t5groupE"></span><span id="touch_channel_config_t::group__touch_chan_trig_group_t"></span><span class="target" id="structtouch__channel__config__t_1a203310fca71fd85990c739169e269118"></span><a class="reference internal" href="#_CPPv423touch_chan_trig_group_t" title="touch_chan_trig_group_t"><span class="n"><span class="pre">touch_chan_trig_group_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">group</span></span></span><a class="headerlink" href="#_CPPv4N22touch_channel_config_t5groupE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The channel group that the channel belongs to. The group will be used to trigger the interrupt </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422touch_sw_filter_data_t">
<span id="_CPPv322touch_sw_filter_data_t"></span><span id="_CPPv222touch_sw_filter_data_t"></span><span id="touch_sw_filter_data_t"></span><span class="target" id="structtouch__sw__filter__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sw_filter_data_t</span></span></span><a class="headerlink" href="#_CPPv422touch_sw_filter_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch software filter data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_sw_filter_data_t11prev_outputE">
<span id="_CPPv3N22touch_sw_filter_data_t11prev_outputE"></span><span id="_CPPv2N22touch_sw_filter_data_t11prev_outputE"></span><span id="touch_sw_filter_data_t::prev_output__uint32_t"></span><span class="target" id="structtouch__sw__filter__data__t_1aedd1d0c0fff2eb5b135e462c8b05574f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">prev_output</span></span></span><a class="headerlink" href="#_CPPv4N22touch_sw_filter_data_t11prev_outputE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Previous output filtered data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_sw_filter_data_t10curr_inputE">
<span id="_CPPv3N22touch_sw_filter_data_t10curr_inputE"></span><span id="_CPPv2N22touch_sw_filter_data_t10curr_inputE"></span><span id="touch_sw_filter_data_t::curr_input__uint32_t"></span><span class="target" id="structtouch__sw__filter__data__t_1ad5d04c018cde9ab2b55f553a18d18761"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">curr_input</span></span></span><a class="headerlink" href="#_CPPv4N22touch_sw_filter_data_t10curr_inputE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Current input raw data that need to be filtered </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428touch_sensor_filter_config_t">
<span id="_CPPv328touch_sensor_filter_config_t"></span><span id="_CPPv228touch_sensor_filter_config_t"></span><span id="touch_sensor_filter_config_t"></span><span class="target" id="structtouch__sensor__filter__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_filter_config_t</span></span></span><a class="headerlink" href="#_CPPv428touch_sensor_filter_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The configuration of the software filter. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_filter_config_t11interval_msE">
<span id="_CPPv3N28touch_sensor_filter_config_t11interval_msE"></span><span id="_CPPv2N28touch_sensor_filter_config_t11interval_msE"></span><span id="touch_sensor_filter_config_t::interval_ms__uint32_t"></span><span class="target" id="structtouch__sensor__filter__config__t_1a2abb40237316cc80644672774d2741f0"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interval_ms</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_filter_config_t11interval_msE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The software filter interval in milliseconds. The software filter will trigger periodically based on esp_timer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_filter_config_t14data_filter_fnE">
<span id="_CPPv3N28touch_sensor_filter_config_t14data_filter_fnE"></span><span id="_CPPv2N28touch_sensor_filter_config_t14data_filter_fnE"></span><span id="touch_sensor_filter_config_t::data_filter_fn__touch_sw_filter_t"></span><span class="target" id="structtouch__sensor__filter__config__t_1ac2b3189bfa86a70e9c22f0a593699926"></span><a class="reference internal" href="#_CPPv417touch_sw_filter_t" title="touch_sw_filter_t"><span class="n"><span class="pre">touch_sw_filter_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_filter_fn</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_filter_config_t14data_filter_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The data filter function pointer. You can specify your own filter algorithm, or set NULL to use default software filter </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_sensor_filter_config_t15user_filter_ctxE">
<span id="_CPPv3N28touch_sensor_filter_config_t15user_filter_ctxE"></span><span id="_CPPv2N28touch_sensor_filter_config_t15user_filter_ctxE"></span><span id="touch_sensor_filter_config_t::user_filter_ctx__voidP"></span><span class="target" id="structtouch__sensor__filter__config__t_1ab4b1bbeb96a08187acf1616877ed5924"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_filter_ctx</span></span></span><a class="headerlink" href="#_CPPv4N28touch_sensor_filter_config_t15user_filter_ctxE" title="Permalink to this definition"></a><br /></dt>
<dd><p>User customized filter context pointer. This pointer will be passed to the second parameter of <code class="docutils literal notranslate"><span class="pre">touch_sw_filter_t</span></code> . So that users can access their customized filter context in the software filter function. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420touch_sleep_config_t">
<span id="_CPPv320touch_sleep_config_t"></span><span id="_CPPv220touch_sleep_config_t"></span><span id="touch_sleep_config_t"></span><span class="target" id="structtouch__sleep__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sleep_config_t</span></span></span><a class="headerlink" href="#_CPPv420touch_sleep_config_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configuration of the touch sensor sleep function. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20touch_sleep_config_t14slp_wakeup_lvlE">
<span id="_CPPv3N20touch_sleep_config_t14slp_wakeup_lvlE"></span><span id="_CPPv2N20touch_sleep_config_t14slp_wakeup_lvlE"></span><span id="touch_sleep_config_t::slp_wakeup_lvl__touch_sleep_wakeup_level_t"></span><span class="target" id="structtouch__sleep__config__t_1a4a0b69a9f97df12a5f2c1207cfc76fae"></span><a class="reference internal" href="#_CPPv426touch_sleep_wakeup_level_t" title="touch_sleep_wakeup_level_t"><span class="n"><span class="pre">touch_sleep_wakeup_level_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slp_wakeup_lvl</span></span></span><a class="headerlink" href="#_CPPv4N20touch_sleep_config_t14slp_wakeup_lvlE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The sleep level that can be woke up by touch sensor. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20touch_sleep_config_t17deep_slp_sens_cfgE">
<span id="_CPPv3N20touch_sleep_config_t17deep_slp_sens_cfgE"></span><span id="_CPPv2N20touch_sleep_config_t17deep_slp_sens_cfgE"></span><span id="touch_sleep_config_t::deep_slp_sens_cfg__touch_sensor_config_dslp_tP"></span><span class="target" id="structtouch__sleep__config__t_1a00c4474b882fe16a5675301e619a4a59"></span><a class="reference internal" href="#_CPPv426touch_sensor_config_dslp_t" title="touch_sensor_config_dslp_t"><span class="n"><span class="pre">touch_sensor_config_dslp_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">deep_slp_sens_cfg</span></span></span><a class="headerlink" href="#_CPPv4N20touch_sleep_config_t17deep_slp_sens_cfgE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Specify the touch sensor configuration during the deep sleep. Note that these configurations will no take effect immediately, they will be set automatically while the chip prepare to enter sleep. Set NULL to not change the configurations before entering sleep. The sleep configuration mainly aims at lower down the charging and measuring times, so that to save power consumption during the sleep. Only effective when the <code class="docutils literal notranslate"><a class="reference internal" href="#structtouch__sleep__config__t_1a4a0b69a9f97df12a5f2c1207cfc76fae"><span class="std std-ref"><span class="pre">touch_sleep_config_t::slp_wakeup_lvl</span></span></a></code> is <code class="docutils literal notranslate"><span class="pre">TOUCH_DEEP_SLEEP_WAKEUP</span></code></p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423touch_base_event_data_t">
<span id="_CPPv323touch_base_event_data_t"></span><span id="_CPPv223touch_base_event_data_t"></span><span id="touch_base_event_data_t"></span><span class="target" id="structtouch__base__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_base_event_data_t</span></span></span><a class="headerlink" href="#_CPPv423touch_base_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Base event structure used in touch event queue. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_base_event_data_t4chanE">
<span id="_CPPv3N23touch_base_event_data_t4chanE"></span><span id="_CPPv2N23touch_base_event_data_t4chanE"></span><span id="touch_base_event_data_t::chan__touch_channel_handle_t"></span><span class="target" id="structtouch__base__event__data__t_1ace256871ab1a35b3adaa1e4c7a4a234d"></span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">chan</span></span></span><a class="headerlink" href="#_CPPv4N23touch_base_event_data_t4chanE" title="Permalink to this definition"></a><br /></dt>
<dd><p>the current triggered touch channel handle </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_base_event_data_t7chan_idE">
<span id="_CPPv3N23touch_base_event_data_t7chan_idE"></span><span id="_CPPv2N23touch_base_event_data_t7chan_idE"></span><span id="touch_base_event_data_t::chan_id__i"></span><span class="target" id="structtouch__base__event__data__t_1afdb77cc24525c6742b4cfc1e7a13bd8b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">chan_id</span></span></span><a class="headerlink" href="#_CPPv4N23touch_base_event_data_t7chan_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>the current triggered touch channel number </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv428touch_hw_active_event_data_t">
<span id="_CPPv328touch_hw_active_event_data_t"></span><span id="_CPPv228touch_hw_active_event_data_t"></span><span id="touch_hw_active_event_data_t"></span><span class="target" id="structtouch__hw__active__event__data__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_hw_active_event_data_t</span></span></span><a class="headerlink" href="#_CPPv428touch_hw_active_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Active event data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N28touch_hw_active_event_data_t11active_maskE">
<span id="_CPPv3N28touch_hw_active_event_data_t11active_maskE"></span><span id="_CPPv2N28touch_hw_active_event_data_t11active_maskE"></span><span id="touch_hw_active_event_data_t::active_mask__uint32_t"></span><span class="target" id="structtouch__hw__active__event__data__t_1a180e70419f72016642b3cad0aaa656b2"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">active_mask</span></span></span><a class="headerlink" href="#_CPPv4N28touch_hw_active_event_data_t11active_maskE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The current active channel mask. For the bits in the status mask, if the bit is set, the corresponding channel is active if the bit is cleared, the corresponding channel is inactive </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423touch_event_callbacks_t">
<span id="_CPPv323touch_event_callbacks_t"></span><span id="_CPPv223touch_event_callbacks_t"></span><span id="touch_event_callbacks_t"></span><span class="target" id="structtouch__event__callbacks__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_event_callbacks_t</span></span></span><a class="headerlink" href="#_CPPv423touch_event_callbacks_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor callbacks. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set NULL for the unused callbacks. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Touch Sensor V1 hardware interrupt callback is different compare to other versions. To align the behavior of the <code class="docutils literal notranslate"><span class="pre">on_active</span></code> and <code class="docutils literal notranslate"><span class="pre">on_inactive</span></code>, they are added as the software filter callbacks. Please configure the software filter by <code class="docutils literal notranslate"><span class="pre">touch_sensor_config_filter</span></code> before using hardware interrupt. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_event_callbacks_t12on_sw_activeE">
<span id="_CPPv3N23touch_event_callbacks_t12on_sw_activeE"></span><span id="_CPPv2N23touch_event_callbacks_t12on_sw_activeE"></span><span class="target" id="structtouch__event__callbacks__t_1a9fc2069e5a263a1d1bac7dffe0958de8"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">on_sw_active</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">sens_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425touch_active_event_data_t" title="touch_active_event_data_t"><span class="n"><span class="pre">touch_active_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N23touch_event_callbacks_t12on_sw_activeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor on software active event callback. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This callback is triggered by the software periodical filter. It callbacks when any touch channel is activated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param sens_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Touch sensor controller handle, created from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Touch sensor active event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_event_callbacks_t9on_activeE">
<span id="_CPPv3N23touch_event_callbacks_t9on_activeE"></span><span id="_CPPv2N23touch_event_callbacks_t9on_activeE"></span><span class="target" id="structtouch__event__callbacks__t_1a8aa5aab338a0505c619bdf45e2a6b76a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">on_active</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">sens_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425touch_active_event_data_t" title="touch_active_event_data_t"><span class="n"><span class="pre">touch_active_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N23touch_event_callbacks_t9on_activeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor on software active event callback. (Alias of <code class="docutils literal notranslate"><span class="pre">on_sw_active</span></code> for compatibility) </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This callback is triggered by the software periodical filter. It callbacks when any touch channel is activated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param sens_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Touch sensor controller handle, created from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Touch sensor active event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_event_callbacks_t14on_sw_inactiveE">
<span id="_CPPv3N23touch_event_callbacks_t14on_sw_inactiveE"></span><span id="_CPPv2N23touch_event_callbacks_t14on_sw_inactiveE"></span><span class="target" id="structtouch__event__callbacks__t_1a5a77d954195c9cf0a3f1e61b455c190f"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">on_sw_inactive</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">sens_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv427touch_inactive_event_data_t" title="touch_inactive_event_data_t"><span class="n"><span class="pre">touch_inactive_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N23touch_event_callbacks_t14on_sw_inactiveE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor on software inactive event callback. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This callback is triggered by the software periodical filter. It callbacks when any touch channel is de-activated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param sens_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Touch sensor controller handle, created from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Touch sensor active event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_event_callbacks_t11on_inactiveE">
<span id="_CPPv3N23touch_event_callbacks_t11on_inactiveE"></span><span id="_CPPv2N23touch_event_callbacks_t11on_inactiveE"></span><span class="target" id="structtouch__event__callbacks__t_1a6c3a65545387d8e0f1c04d5b4a19e69d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">on_inactive</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">sens_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv427touch_inactive_event_data_t" title="touch_inactive_event_data_t"><span class="n"><span class="pre">touch_inactive_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N23touch_event_callbacks_t11on_inactiveE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor on software inactive event callback. (Alias of <code class="docutils literal notranslate"><span class="pre">on_sw_active</span></code> for compatibility) </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This callback is triggered by the software periodical filter. It callbacks when any touch channel is de-activated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param sens_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Touch sensor controller handle, created from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Touch sensor active event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_event_callbacks_t12on_hw_activeE">
<span id="_CPPv3N23touch_event_callbacks_t12on_hw_activeE"></span><span id="_CPPv2N23touch_event_callbacks_t12on_hw_activeE"></span><span class="target" id="structtouch__event__callbacks__t_1a2fb739517a6a2f0305eb10fbf701d864"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">on_hw_active</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv421touch_sensor_handle_t" title="touch_sensor_handle_t"><span class="n"><span class="pre">touch_sensor_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">sens_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428touch_hw_active_event_data_t" title="touch_hw_active_event_data_t"><span class="n"><span class="pre">touch_hw_active_event_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N23touch_event_callbacks_t12on_hw_activeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor on hardware active interrupt event callback. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This callback is triggered by the hardware interrupt. It callbacks every time when any of the touch channel below or above (depended on <a class="reference internal" href="#structtouch__sensor__config__t_1a0ea715cbaadfb8e91f1039bd9848c2a0"><span class="std std-ref">touch_sensor_config_t::intr_trig_mode</span></a>) the threshold. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param sens_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Touch sensor controller handle, created from <code class="docutils literal notranslate"><span class="pre">touch_sensor_new_controller()</span></code></p>
</dd>
<dt class="field-even">Param event<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Touch sensor active event data </p>
</dd>
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User registered context, passed from <code class="docutils literal notranslate"><span class="pre">touch_sensor_register_callbacks()</span></code></p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether a high priority task has been waken up by this callback function </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id4">
<h3>Macros<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SENSOR_DEFAULT_BASIC_CONFIG">
<span class="target" id="touch__version__types_8h_1abcdf095c815cf33bb8e519b4c1aa238c"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SENSOR_DEFAULT_BASIC_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">sample_cfg_number</span></span>, <span class="n"><span class="pre">sample_cfg_ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.TOUCH_SENSOR_DEFAULT_BASIC_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>This file is only applicable to the touch hardware version1 Version 1 includes ESP32. </p>
<p>Helper macro to the default configurations of the touch sensor controller</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_cfg_number</strong> -- <strong>[in]</strong> The number of the sample configurations, which can only be 1 here because there is only one sample configuration </p></li>
<li><p><strong>sample_cfg_ptr</strong> -- <strong>[in]</strong> The pointer to the sample configurations </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SENSOR_V1_DEFAULT_SAMPLE_CONFIG">
<span class="target" id="touch__version__types_8h_1a5c042b4ecb43bbb2fff80f354ae1409c"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SENSOR_V1_DEFAULT_SAMPLE_CONFIG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">duration_ms</span></span>, <span class="n"><span class="pre">volt_low</span></span>, <span class="n"><span class="pre">volt_high</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.TOUCH_SENSOR_V1_DEFAULT_SAMPLE_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>Helper macro to the default sample configurations. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This default configuration uses <code class="docutils literal notranslate"><span class="pre">sample</span> <span class="pre">frequency</span> <span class="pre">=</span> <span class="pre">clock</span> <span class="pre">frequency</span> <span class="pre">/</span> <span class="pre">1</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>duration_ms</strong> -- <strong>[in]</strong> The measurement duration of the touch channel </p></li>
<li><p><strong>volt_low</strong> -- <strong>[in]</strong> The low voltage limit of the touch channel </p></li>
<li><p><strong>volt_high</strong> -- <strong>[in]</strong> The high voltage limit of the touch channel </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SENSOR_DEFAULT_FILTER_CONFIG">
<span class="target" id="touch__version__types_8h_1ae29ad802dcf0ccd7fcf5ea8d1fd787da"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SENSOR_DEFAULT_FILTER_CONFIG</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.TOUCH_SENSOR_DEFAULT_FILTER_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>Helper macro to the default filter configurations. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SENSOR_DEFAULT_LSLP_CONFIG">
<span class="target" id="touch__version__types_8h_1a1c9052605b73b8d3efcbcb0b5e944351"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SENSOR_DEFAULT_LSLP_CONFIG</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.TOUCH_SENSOR_DEFAULT_LSLP_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>Helper macro to the default light sleep wake-up configurations. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RTC_PERIPH will keep power on during the light sleep. Any enabled touch channel can wake-up the chip from light sleep. </p>
</div>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.TOUCH_SENSOR_DEFAULT_DSLP_CONFIG">
<span class="target" id="touch__version__types_8h_1abfd61391752e10a06722e8737a487274"></span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_SENSOR_DEFAULT_DSLP_CONFIG</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.TOUCH_SENSOR_DEFAULT_DSLP_CONFIG" title="Permalink to this definition"></a><br /></dt>
<dd><p>Helper macro to the default deep sleep wake-up configurations. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RTC_PERIPH will keep power on during the deep sleep. Any enabled touch channel can wake-up the chip from deep sleep. </p>
</div>
</dd></dl>

</section>
<section id="id5">
<h3>Type Definitions<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417touch_sw_filter_t">
<span id="_CPPv317touch_sw_filter_t"></span><span id="_CPPv217touch_sw_filter_t"></span><span id="touch_sw_filter_t"></span><span class="target" id="touch__version__types_8h_1add3c3cdadbe640997f856dbda1c0f3e3"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">touch_sw_filter_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv422touch_channel_handle_t" title="touch_channel_handle_t"><span class="n"><span class="pre">touch_channel_handle_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">chan_handle</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422touch_sw_filter_data_t" title="touch_sw_filter_data_t"><span class="n"><span class="pre">touch_sw_filter_data_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">filter_data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_filter_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv417touch_sw_filter_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch software filter prototype. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users can customize their own filter algorithm by this prototype </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param chan_handle<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> The handle of the touch channel that need to be filtered </p>
</dd>
<dt class="field-even">Param filter_data<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> The data of the software filter </p>
</dd>
<dt class="field-odd">Param user_filter_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> User customized filter context pointer </p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>uint32_t The filtered data </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426touch_sensor_config_dslp_t">
<span id="_CPPv326touch_sensor_config_dslp_t"></span><span id="_CPPv226touch_sensor_config_dslp_t"></span><span id="touch_sensor_config_dslp_t"></span><span class="target" id="touch__version__types_8h_1abe4b05a94f7680f9f94aebc8caba4222"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421touch_sensor_config_t" title="touch_sensor_config_t"><span class="n"><span class="pre">touch_sensor_config_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_sensor_config_dslp_t</span></span></span><a class="headerlink" href="#_CPPv426touch_sensor_config_dslp_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch sensor configuration during the deep sleep. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently it is the same as the normal controller configuration. The deep sleep configuration only takes effect when the chip entered sleep, so that to update a more power efficient configuration. </p>
</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv425touch_active_event_data_t">
<span id="_CPPv325touch_active_event_data_t"></span><span id="_CPPv225touch_active_event_data_t"></span><span id="touch_active_event_data_t"></span><span class="target" id="touch__version__types_8h_1ab3804ca9709eda48c5bd04f2fd22133d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423touch_base_event_data_t" title="touch_base_event_data_t"><span class="n"><span class="pre">touch_base_event_data_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_active_event_data_t</span></span></span><a class="headerlink" href="#_CPPv425touch_active_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Active event data. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently same as base event data </p>
</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv427touch_inactive_event_data_t">
<span id="_CPPv327touch_inactive_event_data_t"></span><span id="_CPPv227touch_inactive_event_data_t"></span><span id="touch_inactive_event_data_t"></span><span class="target" id="touch__version__types_8h_1a5b8ad925d1f437da68391e0e3e09d57b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423touch_base_event_data_t" title="touch_base_event_data_t"><span class="n"><span class="pre">touch_base_event_data_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_inactive_event_data_t</span></span></span><a class="headerlink" href="#_CPPv427touch_inactive_event_data_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Inactive event data. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently same as base event data </p>
</div>
</dd></dl>

</section>
<section id="id6">
<h3>Enumerations<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv422touch_chan_data_type_t">
<span id="_CPPv322touch_chan_data_type_t"></span><span id="_CPPv222touch_chan_data_type_t"></span><span class="target" id="touch__version__types_8h_1ad6af7618a405b446a90d674e79956dfb"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_chan_data_type_t</span></span></span><a class="headerlink" href="#_CPPv422touch_chan_data_type_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>The data type of the touch channel. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_chan_data_type_t24TOUCH_CHAN_DATA_TYPE_RAWE">
<span id="_CPPv3N22touch_chan_data_type_t24TOUCH_CHAN_DATA_TYPE_RAWE"></span><span id="_CPPv2N22touch_chan_data_type_t24TOUCH_CHAN_DATA_TYPE_RAWE"></span><span class="target" id="touch__version__types_8h_1ad6af7618a405b446a90d674e79956dfba9d4f6acae1aff34a2b7e23882ac27a73"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_CHAN_DATA_TYPE_RAW</span></span></span><a class="headerlink" href="#_CPPv4N22touch_chan_data_type_t24TOUCH_CHAN_DATA_TYPE_RAWE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The raw data of the touch channel </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22touch_chan_data_type_t27TOUCH_CHAN_DATA_TYPE_SMOOTHE">
<span id="_CPPv3N22touch_chan_data_type_t27TOUCH_CHAN_DATA_TYPE_SMOOTHE"></span><span id="_CPPv2N22touch_chan_data_type_t27TOUCH_CHAN_DATA_TYPE_SMOOTHE"></span><span class="target" id="touch__version__types_8h_1ad6af7618a405b446a90d674e79956dfba81887a71a59dcbd65eff89aefaf62187"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_CHAN_DATA_TYPE_SMOOTH</span></span></span><a class="headerlink" href="#_CPPv4N22touch_chan_data_type_t27TOUCH_CHAN_DATA_TYPE_SMOOTHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The smooth data of the touch channel (need to config software filter fist) </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv423touch_chan_trig_group_t">
<span id="_CPPv323touch_chan_trig_group_t"></span><span id="_CPPv223touch_chan_trig_group_t"></span><span class="target" id="touch__version__types_8h_1ad663caf7127d80c55f97fb9c07343eae"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">touch_chan_trig_group_t</span></span></span><a class="headerlink" href="#_CPPv423touch_chan_trig_group_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Touch channel trigger group. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_1E">
<span id="_CPPv3N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_1E"></span><span id="_CPPv2N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_1E"></span><span class="target" id="touch__version__types_8h_1ad663caf7127d80c55f97fb9c07343eaea64b064c2f30fb7abf7b8eca7b85a6125"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_CHAN_TRIG_GROUP_1</span></span></span><a class="headerlink" href="#_CPPv4N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_1E" title="Permalink to this definition"></a><br /></dt>
<dd><p>Channel will be added to the interrupt trigger group 1 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_2E">
<span id="_CPPv3N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_2E"></span><span id="_CPPv2N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_2E"></span><span class="target" id="touch__version__types_8h_1ad663caf7127d80c55f97fb9c07343eaea364298c26c568e5105c3641516b26dd7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_CHAN_TRIG_GROUP_2</span></span></span><a class="headerlink" href="#_CPPv4N23touch_chan_trig_group_t23TOUCH_CHAN_TRIG_GROUP_2E" title="Permalink to this definition"></a><br /></dt>
<dd><p>Channel will be added to the interrupt trigger group 2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23touch_chan_trig_group_t26TOUCH_CHAN_TRIG_GROUP_BOTHE">
<span id="_CPPv3N23touch_chan_trig_group_t26TOUCH_CHAN_TRIG_GROUP_BOTHE"></span><span id="_CPPv2N23touch_chan_trig_group_t26TOUCH_CHAN_TRIG_GROUP_BOTHE"></span><span class="target" id="touch__version__types_8h_1ad663caf7127d80c55f97fb9c07343eaeac959d380d9c9fe47976b34813867e06a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TOUCH_CHAN_TRIG_GROUP_BOTH</span></span></span><a class="headerlink" href="#_CPPv4N23touch_chan_trig_group_t26TOUCH_CHAN_TRIG_GROUP_BOTHE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Channel will be added to both interrupt trigger group 1 and 2 </p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
             <div class="articleComments">

<style>
    .expand-feedback-content {
        display: none;
    }
    .click-like-or-dislike {
        background-color: #d3d3d3;
        pointer-events: none;
    }
</style>

<script>
    function submitFeedbackForm(user_likes_document) {
        // Send to GA4 the user reaction
        gtag('event', 'user_reaction', {
            'user_likes_document': user_likes_document
        });

        if (user_likes_document === 1) {
            document.querySelector('.like-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContentLike").style.display = 'block';
        } else {
            document.querySelector('.dislike-btn').classList.add('click-like-or-dislike');
            document.getElementById("expandContent").style.display = 'block';
        }

        document.querySelector('.like-btn').style.pointerEvents = 'none';
        document.querySelector('.dislike-btn').style.pointerEvents = 'none';
    }
</script>

<hr>

<p style="text-align:center"><strong>Was this page helpful?</strong></p>
<p style="text-align:center">
    <button class="like-btn" onclick="submitFeedbackForm(1)">
        <svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
    </button>
    <button class="dislike-btn" onclick="submitFeedbackForm(0)">
        <svg aria-hidden="true" focusable="false" class="" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible">
            <path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path>
        </svg>
    </button>
</p>

<div class="expand-feedback-content" id="expandContentLike">
    <ul style="text-align:center">
        <li>Thank you! We received your feedback.</li>
        <li>If you have any comments, fill in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Capacitive Touch Sensor (api-reference/peripherals/cap_touch_sens)&version=esp32 latest (master)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<div class="expand-feedback-content" id="expandContent">
    <ul style="text-align:center">
        <li>We value your feedback.</li>
        <li>Let us know how we can improve this page by filling in <a href='https://www.espressif.com/en/company/documents/documentation_feedback?docId=4287&sections=Capacitive Touch Sensor (api-reference/peripherals/cap_touch_sens)&version=esp32 latest (master)'>Espressif Documentation Feedback Form</a>.</li>
    </ul>
</div>

<br>


             </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="spi_slave.html" class="btn btn-neutral float-left" title="SPI Slave Driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="twai.html" class="btn btn-neutral float-right" title="Two-Wire Automotive Interface (TWAI)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016 - 2025, Espressif Systems (Shanghai) Co., Ltd.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>
    <li class="footer-aside">
        <a href="../../esp-idf-en-latest.zip"> Download HTML</a>
    </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>