; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32doit-devkit-v1]
platform = espressif32 @ 6.12.0
board = esp32doit-devkit-v1
framework = espidf
board_build.partitions = default.csv
board_build.filesystem = spiffs
board_build.flash_size = 4MB
; Currently using ESP-IDF v5.4.0 (package version 3.50400.0)
build_flags =
    -DIDF_VERSION_MAJOR=5  ; Enable ESP-IDF v5.x specific code if needed
    ; Project version information - update for releases
    -D PROJECT_VERSION_MAJOR=1
    -D PROJECT_VERSION_MINOR=0
    -D PROJECT_VERSION_PATCH=0
    -D PROJECT_VERSION=\"1.0.0\"
    ; Project name - automatically uses directory name
    -D PROJECT_NAME=\"ESP32_CaptivePortal\"
    ; ESP32 Configuration Portal specific flags
    -Wall
    -Wextra
    -Wno-format-truncation
    -DDEBUG
    -DLOG_LOCAL_LEVEL=ESP_LOG_DEBUG
monitor_speed = 115200
upload_speed = 115200
extra_scripts = 
    ; Uncomment the following line when implementing the version script:
    ; pre:scripts/version_manager.py
    post:firmware/copy_firmware.py

; Version Management Information:
; ------------------------------
; Project version is defined in build_flags as PROJECT_VERSION="1.0.0"
; 
; Version Format: MAJOR.MINOR.PATCH
;   - MAJOR: Incompatible API changes
;   - MINOR: New functionality (backwards compatible)
;   - PATCH: Bug fixes (backwards compatible)
;
; When releasing a new version:
; 1. Update PROJECT_VERSION_MAJOR, PROJECT_VERSION_MINOR, PROJECT_VERSION_PATCH
; 2. Update PROJECT_VERSION with the same values
;
; Project name is automatically derived from the project directory
; See README.VERSIONING.md for detailed documentation on the versioning system.
